<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.3.7/pixi.min.js" integrity="sha512-k8E2ILMRTO1YBnA2dvTDfsZs7f07gazZDQYbsv2NCxnM9hYFwCKu+rWISm8/fFB1I/gi0tgnURcXJVR7GlE0BA==" crossorigin="anonymous"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.6.0/pixi.min.js" integrity="sha512-Xuxi4TLy7zjGnoAuv99f76gpcqxIU0qEG97hW0H0POT8fLT+IosrI8eB0++zB/VMPzQDrO+gHhXxwc0to7V6Tw==" crossorigin="anonymous"></script> -->
    <!-- <script src="https://cdn.jsdelivr.net/npm/pixi.js-legacy@5.3.7/dist/pixi-legacy.js"></script> -->
    <SCRIPT TYPE="text/javascript" SRC="https://cdn.jsdelivr.net/npm/pixi.js-legacy@5.3.7/dist/pixi-legacy.min.js"></SCRIPT>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/CSSRulePlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/PixiPlugin.min.js"></script>
  </head>
  <body>
    <canvas id="view"></canvas>
  
    <script type="text/javascript">
      // register the plugin
      gsap.registerPlugin(PixiPlugin);

      // give the plugin a reference to the PIXI object
      PixiPlugin.registerPIXI(PIXI);

      var app = new PIXI.Application({
        view: document.querySelector("#view"),
        width: window.innerWidth,
        height: window.innerHeight,
        backgroundColor: 0x000000,
        antialias: true
      });
      // var texture = PIXI.Texture.from('chairshark.png');

      var sprite = new PIXI.Sprite.from('assets/como.mmm.2.png');

      sprite.width = window.innerWidth;
      sprite.height = window.innerHeight;
      app.stage.addChild(sprite);

      var displacementSprite = new PIXI.Sprite.from('cloud2.png');
      var displacementFilter = new PIXI.filters.DisplacementFilter(displacementSprite);
      displacementSprite.texture.baseTexture.wrapMode - PIXI.WRAP_MODES.REPPEAT;
      app.stage.addChild(displacementSprite);
      app.stage.filters = [displacementFilter];
      displacementSprite.scale.x=4;
      displacementSprite.scale.y=4;

      // animate();
      // function animate(){
      //   displacementSprite.x += 8;
      //   displacementSprite.y += 3;
      //   requestAnimationFrame(animate);
      // }
      // //   TweenMax.to(image, 2, { pixi: { colorMatrixFilter: filter } });
      // //
      // var tl = new TimelineMax({ repeat: -1, yoyo: true })
      //   .to(displacementSprite, 1, { pixi: {x: '+= 8'}})
      //   .to(displacementSprite, 1, { pixi: {y: '+= 3' }});

      var tl = new TimelineMax({ repeat: -1, yoyo: true })
        .to(sprite, 1, { pixi: { tint: "#ff0" }})
        .to(sprite, 1, { pixi: { tint: 0x2196F3 }})
        .to(sprite, 1, { pixi: { tint: "hsl(180, 90%, 60%)" }})
        .to(sprite, 1, { pixi: { tint: "rgb(236, 64, 122)" }});

      //   var filter = new PIXI.filters.ColorMatrixFilter();
      //   filter.sepia();
      //   TweenMax.to(image, 2, { pixi: { colorMatrixFilter: filter } });


    </script>

  </body>
</html>
