<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.3.7/pixi.min.js" integrity="sha512-k8E2ILMRTO1YBnA2dvTDfsZs7f07gazZDQYbsv2NCxnM9hYFwCKu+rWISm8/fFB1I/gi0tgnURcXJVR7GlE0BA==" crossorigin="anonymous"></script></head>
    <script src="https://cdn.jsdelivr.net/npm/pixi-filters@latest/dist/pixi-filters.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.6.0/pixi.min.js" integrity="sha512-Xuxi4TLy7zjGnoAuv99f76gpcqxIU0qEG97hW0H0POT8fLT+IosrI8eB0++zB/VMPzQDrO+gHhXxwc0to7V6Tw==" crossorigin="anonymous"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/CSSRulePlugin.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/PixiPlugin.min.js"></script>
  </head>
  <body>
    <canvas id="view"></canvas>
    <script type="text/javascript">
      // register the plugin
      gsap.registerPlugin(PixiPlugin);

      // give the plugin a reference to the PIXI object
      PixiPlugin.registerPIXI(PIXI);
      //
      // var image = new PIXI.Sprite.from("assets/como.mmm.2.png");
      // app.stage.addChild(image);

      const app = new PIXI.Application({
        view: document.querySelector("#view"),
        width: 512,
        height: 512 });

        var texture = PIXI.Texture.from('chairshark.png');
        var texture2 = PIXI.Texture.from('creature.jpg');
      const logo = PIXI.Sprite(texture);
      const ripple = PIXI.Sprite(texture2);
      const filter = new PIXI.filters.DisplacementFilter(ripple);

      logo.anchor.set(0.5);
      logo.position.set(256);

      ripple.anchor.set(0.5);
      ripple.scale.set(0.05);
      ripple.position.set(256);

      filter.scale.set(100);
      app.stage.filterArea = app.screen;
      app.stage.filters = [filter];
      app.stage.addChild(logo, ripple);

      const tl = new TimelineMax({ repeat: -1, repeatDelay: 1 }).
      to(ripple.scale, 1.5, { x: 1.5, y: 1.5 }, "ripple").
      to(filter.scale, 1.5, { x: 0, y: 0 }, "ripple");

    </script>

  </body>
</html>
